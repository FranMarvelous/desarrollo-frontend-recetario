(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[323],{420:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/categoria",function(){return a(5855)}])},3868:function(e){"use strict";e.exports={reactStrictMode:!0,output:"export",basePath:"/admin",trailingSlash:!0,images:{unoptimized:!0}}},5855:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return o}});var r=a(5893),s=a(7294);function l(e){let{categorias:t,setCategorias:a}=e,[l,i]=(0,s.useState)(""),[o,n]=(0,s.useState)(""),[c,d]=(0,s.useState)(""),[h,u]=(0,s.useState)(""),x=async e=>{try{e.preventDefault();let r=await fetch("http://localhost:3000/categoria",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({receta:l,tipo:o,nota:c,descripcion:h})});if(!r.ok)throw Error("No se pudo guardar la categor\xeda...");let s=await r.json();console.dir(s),alert("Categor\xeda guardada exitosamente"),a([...t,s])}catch(e){console.error(e)}};return(0,r.jsxs)("div",{className:"signupFrm",children:[(0,r.jsx)("h1",{className:"title",children:"Probaste una nueva receta?"}),(0,r.jsx)("h3",{className:"titulo",children:"Agr\xe9gala a tu lista de recetas, dale un review para que sepas cuales repetir!"}),(0,r.jsx)("br",{}),(0,r.jsxs)("form",{action:"form",method:"post",onSubmit:x,className:"form",children:[(0,r.jsx)("label",{htmlFor:"receta",className:"label",children:"Receta"}),(0,r.jsx)("br",{}),(0,r.jsx)("input",{type:"text",id:"Receta",className:"input",value:l,onChange:e=>i(e.target.value)}),(0,r.jsx)("br",{}),(0,r.jsx)("label",{htmlFor:"tipo",className:"label",children:"Cocktail o mocktail"}),(0,r.jsx)("br",{}),(0,r.jsx)("input",{type:"text",id:"tipo",className:"input",value:o,onChange:e=>n(e.target.value)}),(0,r.jsx)("br",{}),(0,r.jsx)("label",{htmlFor:"nombre",className:"label",children:"Nota 0-7"}),(0,r.jsx)("br",{}),(0,r.jsx)("input",{type:"number",className:"input",min:"0",max:"7",id:"nota",value:c,onChange:e=>d(e.target.value)}),(0,r.jsx)("br",{}),(0,r.jsx)("label",{htmlFor:"descripcion",className:"label",children:"Review"}),(0,r.jsx)("br",{}),(0,r.jsx)("textarea",{className:"textarea",value:h,onChange:e=>u(e.target.value)}),(0,r.jsx)("br",{}),(0,r.jsx)("button",{type:"submit",className:"submitBtn",children:"Agregar"})]})]})}function i(e){let{categorias:t,setCategorias:a}=e,l=async()=>{try{let e=await fetch("http://localhost:3000/categoria");if(!e.ok)throw Error("Problemas al recuperar las categor\xedas!");let t=await e.json();a(t)}catch(e){console.error(e)}};(0,s.useEffect)(()=>{l()},[]);let i=async e=>{try{let t="http://localhost:3000/categoria?id="+e.id,a=await fetch(t,{method:"DELETE"});if(!a.ok)throw Error("No se pudo borrar la categor\xeda!!!");await a.json(),console.log("Categor\xeda borrada de manera exitosa"),l()}catch(e){console.error({error:e.message})}};return(0,r.jsxs)("div",{className:"listado",children:[(0,r.jsx)("br",{}),(0,r.jsx)("h2",{children:"Mis recetas favoritas"}),(0,r.jsx)("br",{}),(0,r.jsxs)("table",{border:1,children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{children:"Receta"}),(0,r.jsx)("th",{children:"Tipo"}),(0,r.jsx)("th",{children:"Nota"}),(0,r.jsx)("th",{children:"Review"}),(0,r.jsx)("th",{})]})}),(0,r.jsx)("tbody",{children:t.map(e=>(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:e.receta}),(0,r.jsx)("td",{children:e.tipo}),(0,r.jsx)("td",{children:e.nota}),(0,r.jsx)("td",{children:e.descripcion}),(0,r.jsx)("td",{children:(0,r.jsx)("button",{className:"eliminar",onClick:()=>i(e),children:"Eliminar"})})]},e.id))})]}),(0,r.jsx)("input",{type:"button",className:"submitBtn",onclick:"history.back()",name:"volver",value:"Volver"})]})}function o(){let[e,t]=(0,s.useState)([]);return(0,r.jsxs)("div",{className:"categoria",children:[(0,r.jsx)(l,{}),(0,r.jsx)(i,{categorias:e,setCategorias:t})]})}a(3868)}},function(e){e.O(0,[774,888,179],function(){return e(e.s=420)}),_N_E=e.O()}]);